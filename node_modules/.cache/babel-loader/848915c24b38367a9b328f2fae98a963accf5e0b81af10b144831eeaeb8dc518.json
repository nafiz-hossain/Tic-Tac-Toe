{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Toaster,toast}from'react-hot-toast';import'./styles.css';import Button from'@mui/material/Button';import DeleteIcon from'@mui/icons-material/Delete';import SendIcon from'@mui/icons-material/Send';import Stack from'@mui/material/Stack';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const INITIAL_STATE={squares:Array(9).fill(null),xIsNext:true};const calculateWinner=squares=>{const lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let i=0;i<lines.length;i++){const[a,b,c]=lines[i];if(squares[a]&&squares[a]===squares[b]&&squares[a]===squares[c]){return squares[a];}}return null;};const Square=_ref=>{let{value,onClick}=_ref;return/*#__PURE__*/_jsx(\"button\",{className:\"square\",onClick:onClick,children:value});};const Board=_ref2=>{let{squares,onClick}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"board\",children:squares.map((square,i)=>/*#__PURE__*/_jsx(Square,{value:square,onClick:()=>onClick(i)},i))});};const Game=()=>{const[state,setState]=useState(INITIAL_STATE);const[winnerToastId,setWinnerToastId]=useState(null);useEffect(()=>{const winner=calculateWinner(state.squares);if(winner&&!winnerToastId){toast.success(\"Winner: \".concat(winner),{duration:5000,position:'bottom-center',style:{padding:'10px'},onDismiss:handleToastDismiss});// setWinnerToastId(toastId);\nconst timer=setTimeout(()=>{resetGame();},5000);return()=>clearTimeout(timer);}else if(!winner&&winnerToastId){toast.dismiss(winnerToastId);setWinnerToastId(null);}else if(isBoardFull(state.squares)){const toastId=toast.error('Draw',{duration:5000,position:'bottom-center',onDismiss:handleToastDismiss});const timer=setTimeout(()=>{resetGame();},5000);return()=>clearTimeout(timer);}},[state.squares,winnerToastId]);const handleClick=i=>{const squares=state.squares.slice();if(calculateWinner(squares)||squares[i])return;squares[i]=state.xIsNext?'X':'O';setState({squares:squares,xIsNext:!state.xIsNext});};const isBoardFull=squares=>{return squares.every(square=>square!==null);};const handleToastDismiss=()=>{resetGame();};const resetGame=()=>{setState(INITIAL_STATE);};let status=\"Next player: \".concat(state.xIsNext?'X':'O');return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Board,{squares:state.squares,onClick:handleClick})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsx(\"div\",{children:status}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(Button,{onClick:resetGame,variant:\"contained\",color:\"success\",children:\"Reset game\"})})]}),/*#__PURE__*/_jsx(Toaster,{})]});};export default Game;","map":{"version":3,"names":["React","useState","useEffect","Toaster","toast","Button","DeleteIcon","SendIcon","Stack","jsx","_jsx","jsxs","_jsxs","INITIAL_STATE","squares","Array","fill","xIsNext","calculateWinner","lines","i","length","a","b","c","Square","_ref","value","onClick","className","children","Board","_ref2","map","square","Game","state","setState","winnerToastId","setWinnerToastId","winner","success","concat","duration","position","style","padding","onDismiss","handleToastDismiss","timer","setTimeout","resetGame","clearTimeout","dismiss","isBoardFull","toastId","error","handleClick","slice","every","status","variant","color"],"sources":["/home/nafiz/TigerIT/projects/Personal/Tic-Tac-Toe/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Toaster, toast } from 'react-hot-toast';\nimport './styles.css';\nimport Button from '@mui/material/Button';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport SendIcon from '@mui/icons-material/Send';\nimport Stack from '@mui/material/Stack';\n\nconst INITIAL_STATE = {\n  squares: Array(9).fill(null),\n  xIsNext: true,\n};\n\nconst calculateWinner = (squares) => {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n};\n\nconst Square = ({ value, onClick }) => (\n  <button className=\"square\" onClick={onClick}>\n    {value}\n  </button>\n);\n\nconst Board = ({ squares, onClick }) => (\n  <div className=\"board\">\n    {squares.map((square, i) => (\n      <Square key={i} value={square} onClick={() => onClick(i)} />\n    ))}\n  </div>\n);\n\nconst Game = () => {\n  const [state, setState] = useState(INITIAL_STATE);\n  const [winnerToastId, setWinnerToastId] = useState(null);\n\n  useEffect(() => {\n    const winner = calculateWinner(state.squares);\n    if (winner && !winnerToastId) {\n      toast.success(`Winner: ${winner}`, {\n        duration: 5000,\n        position: 'bottom-center',\n        style: {\n          padding: '10px',\n        },\n        onDismiss: handleToastDismiss,\n      });\n      // setWinnerToastId(toastId);\n      const timer = setTimeout(() => {\n        resetGame();\n      }, 5000);\n      return () => clearTimeout(timer);\n    } else if (!winner && winnerToastId) {\n      toast.dismiss(winnerToastId);\n      setWinnerToastId(null);\n    } else if (isBoardFull(state.squares)) {\n      const toastId = toast.error('Draw', {\n        duration: 5000,\n        position: 'bottom-center',\n        onDismiss: handleToastDismiss,\n      });\n      const timer = setTimeout(() => {\n        resetGame();\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [state.squares, winnerToastId]);\n\n  const handleClick = (i) => {\n    const squares = state.squares.slice();\n    if (calculateWinner(squares) || squares[i]) return;\n    squares[i] = state.xIsNext ? 'X' : 'O';\n    setState({\n      squares: squares,\n      xIsNext: !state.xIsNext,\n    });\n  };\n\n  const isBoardFull = (squares) => {\n    return squares.every((square) => square !== null);\n  };\n\n  const handleToastDismiss = () => {\n    resetGame();\n  };\n\n  const resetGame = () => {\n    setState(INITIAL_STATE);\n  };\n\n  let status = `Next player: ${state.xIsNext ? 'X' : 'O'}`;\n\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Board squares={state.squares} onClick={handleClick} />\n      </div>\n      <div className=\"game-info\">\n        <div>{status}</div>\n        <div className=\"button-container\">\n          <Button onClick={resetGame} variant=\"contained\" color=\"success\">\n            Reset game\n          </Button>\n        </div>\n      </div>\n      <Toaster />\n    </div>\n  );\n};\n\nexport default Game;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}